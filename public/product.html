<!DOCTYPE html>
<html>
<head>
  <title>Product</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    img { width: 100%; max-width: 400px; border-radius: 10px; }
    button {
      padding: 12px 18px;
      margin-right: 10px;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<h2 id="name">Loading...</h2>
<img id="img" />
<p id="desc"></p>

<button id="arBtn">View in AR</button>
<button id="buyBtn">Buy Now</button>

<script>
const id = new URLSearchParams(window.location.search).get("id");

fetch("/api/product/" + id)
  .then(r => r.json())
  .then(p => {
    document.getElementById("name").innerText = p.name;
    document.getElementById("desc").innerText = p.description || "";
    document.getElementById("img").src = p.image_url;

    document.getElementById("arBtn").onclick = () => {
      if (p.ar_url) window.open(p.ar_url, "_blank");
      else alert("AR not available");
    };

    document.getElementById("buyBtn").onclick = () => {
      window.location.href = "/buy/" + p.id;
    };
  });
</script>

</body>
</html>
