<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>

<style>
body{margin:0;font-family:Arial;background:#f6f6f6}
.sidebar{
  position:fixed;left:0;top:0;
  width:170px;height:100vh;
  background:#000;padding-top:20px
}
.sidebar a{
  display:block;padding:12px 16px;
  color:#bbb;text-decoration:none;font-size:14px
}
.sidebar a.active,.sidebar a:hover{
  background:#111;color:#fff;
  border-left:4px solid #25D366
}
.main{margin-left:170px;padding:22px}
</style>
</head>

<body>

<script>
const token = sessionStorage.getItem("token");
const shopId = sessionStorage.getItem("shop_id");

// ğŸš¨ ABSOLUTE BLOCK
if (!token || !shopId) {
  location.replace("/admin/login.html");
}
</script>

<div class="sidebar">
  <a onclick="loadPage('overview')" id="overview">ğŸ  Overview</a>
  <a onclick="loadPage('products')" id="products">ğŸ“¦ Products</a>
  <a onclick="loadPage('add-product')" id="add-product">â• Add Product</a>
  <a onclick="loadPage('analytics')" id="analytics">ğŸ“Š Analytics</a>
  <a onclick="loadPage('business')" id="business">ğŸª Business</a>
  <a onclick="logout()">ğŸšª Logout</a>
</div>

<div class="main" id="content">Loadingâ€¦</div>

<script>
function loadPage(page){
  fetch("/admin/" + page + ".html")
    .then(r=>r.text())
    .then(html=>{
      content.innerHTML = html;
      document.querySelectorAll(".sidebar a")
        .forEach(a=>a.classList.remove("active"));
      document.getElementById(page)?.classList.add("active");
    });
}

function logout(){
  sessionStorage.clear();
  location.replace("/admin/login.html");
}

loadPage("overview");
</script>

</body>
</html>
